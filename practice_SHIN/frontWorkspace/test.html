<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>파이널</title>

</head>
<body>
   <h1>공지사항 상세조회</h1>
 
      <input type="text" name="title" placeholder="제목" readonly>
     <br>
     <input type="submit" name="content" placeholder="내용" readonly0>

     <button onclick="location.href='/notice/delete'">삭제하기</button>

     <table>
      <thead>
          <tr>
            <th>번호</th>
            <th>제목</th>
            <th>조회수</th>
          </tr>
      </thead>
      <tbody>
        <tr>
          <td></td>
          <td></td>
          <td></td>
        </tr>
      </tbody>
     </table>

</body>
</html>

<script>

$.ajax({
  url:"http://127.0.0.1:8989/api/notice/list",
  method:"get",
  data:{},
  success:function (x) {
    const voList = x;

    const tbody = document.querySelector("tbody");
    let str = "";

    for (let i = 0; i < voList.length; ++i) {
      str += "<tr>";
      str += "<td>"+voList[i].title+"</td>";
      str += "<td>"+voList[i].content+"</td>";
      str += "<td>"+voList[i].hit+"</td>";
      str += "<tr>";
    }

    tbody.innerHTML = str;
  },

});



  
  
</script>